from random import randint
from enum import IntEnum

class Type(IntEnum):
    NORMAL = 0
    FIRE = 1
    WATER = 2
    ELECTRIC = 3
    GRASS = 4
    PSYCHIC = 5
    FIGHTING = 6
    POISON = 7
    GROUND = 8
    FLYING = 9
    BUG = 10
    ROCK = 11
    GHOST = 12
    DRAGON = 13
    ICE = 14

class game:
    cnt = 0
    state = 0
    compatibilities = [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5, 0.0, 1.0, 1.0],
        [1.0, 0.5, 0.5, 1.0, 2.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 0.5, 1.0, 0.5, 2.0],
        [1.0, 2.0, 0.5, 1.0, 0.5, 1.0, 1.0, 1.0, 2.0, 1.0, 1.0, 2.0, 1.0, 0.5, 1.0],
        [1.0, 1.0, 2.0, 0.5, 0.5, 1.0, 1.0, 1.0, 0.0, 2.0, 1.0, 1.0, 1.0, 0.5, 1.0],
        [1.0, 0.5, 2.0, 1.0, 0.5, 1.0, 1.0, 0.5, 2.0, 0.5, 0.5, 2.0, 1.0, 0.5, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 0.5, 2.0, 2.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [2.0, 1.0, 1.0, 1.0, 1.0, 0.5, 1.0, 0.5, 1.0, 0.5, 0.5, 2.0, 0.0, 1.0, 2.0],
        [1.0, 1.0, 1.0, 1.0, 2.0, 1.0, 1.0, 0.5, 0.5, 1.0, 2.0, 0.5, 0.5, 1.0, 1.0],
        [1.0, 2.0, 1.0, 2.0, 0.5, 1.0, 1.0, 2.0, 1.0, 0.0, 0.5, 2.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 0.5, 2.0, 1.0, 2.0, 1.0, 1.0, 1.0, 2.0, 0.5, 1.0, 1.0, 1.0],
        [1.0, 0.5, 1.0, 1.0, 2.0, 2.0, 0.5, 2.0, 1.0, 0.5, 1.0, 1.0, 0.5, 1.0, 1.0],
        [1.0, 2.0, 1.0, 1.0, 1.0, 1.0, 0.5, 1.0, 0.5, 2.0, 2.0, 1.0, 1.0, 1.0, 2.0],
        [0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 1.0],
        [1.0, 1.0, 0.5, 1.0, 2.0, 1.0, 1.0, 1.0, 2.0, 2.0, 1.0, 1.0, 1.0, 2.0, 0.5]
        ]
    
    def Act(self, types):
        self.cnt += 1
        reward = self.compatibilities[types][self.state]
        self.state = types
        return reward

    def GetState(self):
        return self.state
        
    def IsEnd(self):
        return self.cnt >= 30

    def Initialize(self):
        self.state = randint(0, 14)
        self.cnt = 0